<?xml version="1.0" encoding="utf-8" ?>
<module xmlns="http://www.enova.pl/schema/business_struct.xsd" name="Core" namespace="Soneta.Core"
         versionName="enova" versionNumber="120200">
  <import>..</import>
  <using>Soneta.Config</using>
  <using>Soneta.Business.Db</using>
  <using>Soneta.Business.Db.Permissions</using>
  <using>Soneta.Business.App</using>
  <using>Soneta.Core.DbTuples</using>
  <using>Soneta.Core.Dms</using>
  <using>Soneta.Core.Schedule</using>
  <using>Soneta.Business.Runtime</using>
  <using>Soneta.Core.StrukturyOrganizacyjne</using>

  <!-- DEFINICJA CYKLU -->

	<enum name="DefinicjaCykluOkresCyklu"></enum>
	<enum name="DefinicjaCykluPozycjaDnia"></enum>
	<enum name="DefinicjaCykluPozycjaDniaZaawansowana"></enum>
	<enum name="DefinicjaCykluRodzajTerminu"></enum>
	<enum name="DefinicjaCykluSposobNaDniWolne"></enum>
	<enum name="DefinicjaCykluTyp"></enum>
	<enum name="PodTypKodu"></enum>
	<enum name="StatusPlikuJPK"></enum>
	<enum name="BramkaJPKFile"></enum>
	<enum name="TrybGenerowaniaJPK"></enum>



  <subrow name="DefinicjaCyklu">
    <col name="Krotnosc" type="int" modifier="public virtual"
			 description="Określa ile razy cykl będzie powtórzony.">
      <attribute>Browsable(false)</attribute>
    </col>
    <col name="Interwal" type="int" modifier="public virtual"></col>
    <col name="Typ" type="DefinicjaCykluTyp" modifier="public virtual"
			 description="Określa rodzaj cyklu za pomocą jednostki interwału czasu."></col>
    <col name="Czas" type="time" description="Określa czas wystąpienia cyklu." />
    <col name="PozycjaDnia" type="DefinicjaCykluPozycjaDnia"
			 description="Określa pozycję dnia w okresie, w którym oczekiwane jest wystąpienie cyklu."></col>
    <col name="RodzajTerminu" type="DefinicjaCykluRodzajTerminu"
			 description="Wskazuje na to, czy określono termin cyklu lub termin wynika z opisu cyklu."></col>
    <col name="SposobNaDniWolne" type="DefinicjaCykluSposobNaDniWolne"
			 specialaccess="true"
			 description="Określa sposób zachowania, kiedy cykl wystąpi w dniu wolnym."></col>
    <col name="OkresCyklu" type="DefinicjaCykluOkresCyklu"
			 description="Określa okres, w którym oczekiwane jest wystąpienie cyklu."></col>
    <col name="Termin" type="int" readonly="set" modifier="protected"
			 description="Określa termin wystąpienia cyklu. Wartość w polu nie jest czytelna dla użytkownika.">
      <attribute>Browsable(false)</attribute>
    </col>

    <!--[16911][9.3][Workflow 9.3]: Przeniesienie kontrolki Schedule do Core - ujednolicenie z kontrolką handlu-->
    <col name="Termin2" type="int" readonly="set" modifier="protected"
         description="Określa termin wystąpienia cyklu (godziny). Wartość w polu nie jest czytelna dla użytkownika.">
      <attribute>Browsable(false)</attribute>
    </col>
    <col name="Termin3" type="int" readonly="set" modifier="protected"
         description="Określa termin wystąpienia cyklu (minuty w godzinie). Wartość w polu nie jest czytelna dla użytkownika.">
      <attribute>Browsable(false)</attribute>
    </col>
    <col name="Termin4" type="int" readonly="set" modifier="protected"
         description="Określa termin wystąpienia cyklu (dni w miesiącu/roku w kolejności). Wartość w polu nie jest czytelna dla użytkownika.">
      <attribute>Browsable(false)</attribute>
    </col>
    <col name="Termin5" type="int" readonly="set" modifier="protected"
         description="Określa termin wystąpienia cyklu (miesiące w roku w kolejności). Wartość w polu nie jest czytelna dla użytkownika.">
      <attribute>Browsable(false)</attribute>
    </col>
    <col name="PozycjaDniaZaawansowana" type="DefinicjaCykluPozycjaDniaZaawansowana"
			 description="Określa pozycję dnia w miesiącu, w którym oczekiwane jest wystąpienie cyklu."></col>

  </subrow>

  <!-- /DEFINICJA CYKLU -->

  <subrow name="DefinicjaNumeracji">
    <col name="Wzor" type="string" length="128"/>
    <col name="PodczasEdycji" type="boolean" modifier="protected"/>
  </subrow>

  <subrow name="NumerDokumentu">
    <key name="WgSymboluDokumentu" keyunique="true" lock="ExclusiveGet">
      <keycol name="Symbol"/>
      <keycol name="Numer"/>
    </key>
    <key name="WgNumeruDokumentu" keyunique="true">
      <keycol name="Pelny"/>
    </key>
    <col name="Symbol" type="string" length="32"/>
    <col name="Numer" type="int"/>
    <col name="Pelny" type="string" length="40" caption="Numer pełny"/>
  </subrow>

  <enum name="Wojewodztwa"/>
  <subrow name="Adres">
    <col name="KodPocztowy" type="int" description="Kod pocztowy">
      <attribute>MaskEdit("00-000", SaveLiteral=false)</attribute>
      <attribute>SqlResolving(IgnoreDashes = true, NoDashesData = true)</attribute>
    </col>
    <col name="ZagranicznyKodPocztowy" type="string" length="9" description="Zagraniczny kod pocztowy"/>
    <col name="Poczta" type="string" length="26" description="Poczta">
      <attribute>Dictionary("Miejscowość")</attribute>
    </col>
    <col name="Miejscowosc" type="string" length="26" description="Miejscowość">
      <attribute>Dictionary("Miejscowość")</attribute>
      <verifier name ="Adres.MiejscowoscVerifier" onadded="true"/>
    </col>
    <col name="Gmina" type="string" length="26" description="Gmina">
      <attribute>Dictionary("Gmina")</attribute>
      <verifier name ="Adres.GminaVerifier" onadded="true"/>
    </col>
    <col name="Powiat" type="string" length="26" description="Powiat">
      <attribute>Dictionary("Powiat")</attribute>
      <verifier name ="Adres.PowiatVerifier" onadded="true"/>
    </col>
    <col name="Wojewodztwo" type="Wojewodztwa" description="Województwo" >
      <verifier name ="Adres.WojewodztwoVerifier" onadded="true"/>
    </col>
    <col name="Kraj" type="string" length="26" description="Kraj">
      <attribute>Dictionary("Kraj")</attribute>
    </col>
    <col name="KodKraju" type="string" length="2" description="Kod kraju"/>
    <col name="Ulica" type="string" length="50" description="Nazwa ulicy (alei, osiedla)">
      <!-- Było length="30", ograniczenie PP-->
      <attribute>Dictionary("Ulica")</attribute>
      <verifier name ="Adres.UlicaVerifier" onadded="true"/>
    </col>
    <col name="NrDomu" type="string" length="9" description="Numer domu (bloku)" />
    <col name="NrLokalu" type="string" length="10" description="Numer lokalu w domu (bloku)" />
    <col name="Telefon" type="string" length="30" description="Numer telefonu">
      <!-- Było length="20", ograniczenie PP-->
      <verifier name="Adres.TelefonVerifier" onadded="true"/>
    </col>
    <col name="Faks" type="string" length="30" description="Numer faksu" >
      <!-- Było length="20", ograniczenie PP-->
    </col>
  </subrow>

  <interface name="IAdresHost"/>

  <subrow name="IdentyfikacjaAdresu">
    <col name="GLN" type="string" length="13" caption="GLN (ILN)" description="Globalny numer lakalizacji." />
  </subrow>

  <enum name="RodzajAdresu"/>
  <table name="AdresExt" tablename="Adresy">
    <col name="Host" type="IAdresHost" readonly="true" required="true"
			keyunique="true"
			relname="Adresy"
			relguided="inner"
			delete="cascade"
      keyprimary="true"
		>
      <keycol name="Typ"/>
    </col>

    <key name="WgGLN">
      <keycol name="IdentyfikacjaAdresu.GLN"/>
    </key>

    <col name="Typ" type="RodzajAdresu" readonly="true" required="true"/>
    <col name="Adres" type="Adres" />
    <col name="IdentyfikacjaAdresu" type="IdentyfikacjaAdresu" />
  </table>

  <table name="KodPocztowy" tablename="KodyPocztowe" tablecaption="Tabela z kodami pocztowymi oraz odpowiadającymi im miejscowościami" >
    <key name="WgKodu" keyunique="false" keyprimary="true">
      <keycol name="KodPocztowy"/>
    </key>
    <col name="KodPocztowy" required="true" type="string" length="6" caption="Kod pocztowy" />
    <col name="Miejscowosc" type="DictionaryItem" required="true" caption="Miejscowość" delete="cascade" />
    <col name="Powiat" type="DictionaryItem" required="true" />
    <col name="Wojewodztwo" type="Wojewodztwa" required="true" caption="Województwo"/>
  </table>

  <table name="KodPocztowyAU" tablename="KodyPocztoweAU" tablecaption="Tabela z kodami pocztowymi oraz odpowiadającymi im województwami" >
    <key name="WgKodu" keyunique="false" keyprimary="true">
      <keycol name="KodPocztowy"/>
    </key>
    <col name="KodPocztowy" required="true" type="string" length="6" caption="Kod pocztowy" />
    <col name="Wojewodztwo" type="Wojewodztwa" required="true" caption="Województwo" />
    <col name="Powiat" type="string" length="50" required="true" />
    <col name="Gmina" type="string" length="50" required="true" />
    <col name="Miejscowosc" type="string" length="50" required="true" caption="Miejscowość" />
    <col name="Ulica" type="string" length="80" />
  </table>

  <subrow name="Kontakt">
    <col name="SkrytkaPocztowa" type="string" length="5" description="Skrytka pocztowa"/>
    <col name="TelefonKomorkowy" name12="TelKom" type="string" length="30" description="Numer telefonu komórkowego"  >
      <!-- Było length="20", ograniczenie PP-->
      <verifier name="Kontakt.TelefonVerifier" onadded="true"/>
    </col>
    <col name="EMAIL" type="string" length="100" description="Adres poczty elektronicznej">
      <verifier name="Kontakt.EMAILVerifier" onadded="true"/>
    </col>
    <col name="WWW" type="string" length="100" description="Adres strony internetowej"/>
  </subrow>

  <subrow name="Osoba">
    <col name="Osoba" type="string" length="50"/>
    <col name="Adres" type="string" length="50"/>
    <col name="Telefon" type="string" length="30">
      <!-- Było length="20", ograniczenie PP-->
    </col>
  </subrow>

  <interface name="IDaneKontrahentaHost"/>
  <table name="DaneKontrahenta" tablename="DaneKontrahentow" name8="DaneKont">
    <col name="Host" type="IDaneKontrahentaHost" required="true" readonly="true"
			keyunique="true"
			relname="Dane kontrahentów"
			relguided="inner"
			delete="cascade"
		>
      <keycol name="Typ"/>
    </col>
    <!-- Nie jest required ze względu na problemy z konwersją CLA, ale w przyszłości 
		trzeba to porządnie skonwertować -->
    <col name="Typ" type="int" readonly="true"/>
    <col name="Nazwa" type="string" length="255" required="true"/>
    <col name="NIP" type="string" length="13" category="Ogólne" modifier="public virtual"/>
    <col name="EuVAT" type="string" length="16" category="Ogólne" modifier="public virtual">
      <verifier name="EuVatVerifier"/>
    </col>
    <col name="Adres" type="Adres"/>
    <col name="RodzajPodmiotu" type="RodzajPodmiotu" modifier="public virtual"/>
    <col name="StatusPodmiotu" type="StatusPodmiotu" modifier="public virtual"/>
  </table>

  <!-- DEFINICJA DOKUMENTU -->
  <enum name="TypDokumentu" />
  <enum name="KierunekPlatnosci" />



	<table name="DefinicjaDokumentu" tablename="DefDokumentow" name8="DefDok" guided="Root" config="true" caption="Definicja dokumentu" tablecaption="Definicje dokumentów" >
		<interface>IRightsSource</interface>
		<interface>IDefinicjaKomunikatuEDIHost</interface>

		<key name="WgSymbolu" keyunique="true" keyprimary="true">
			<keycol name="Symbol" />
		</key>
		<key name="WgTypu" keyunique="true">
			<keycol name="Typ" />
			<keycol name="Symbol" />
		</key>

		<col name="Symbol" type="string" length="12" required="true" category="Ogólne" />
		<col name="Typ" type="TypDokumentu" selector="true" required="true" readonly="true" category="Ogólne" />
		<col name="Nazwa" type="string" length="30" category="Ogólne" />
		<col name="Domyslna" type="boolean" category="Ogólne" />
		<col name="Blokada" type="boolean" category="Ogólne" />
		<!-- DEFINICJA -->
		<col name="Numeracja" type="DefinicjaNumeracji" category="Definicja" />
		<col name="WidoczneCechy" type="text" category="Definicja" />
		<col name="Rozszerzenie" type="text" modifier="protected" category="Definicja" />
		<col name="DodatkowyNaglowekDefinicja" type="text" category="Definicja" />
		<!-- ISO -->
		<col name="ProceduraISO" type="IsoProcedura" category="ISO" description="Procedura ISO, która zostanie wykorzystana do numeracji dokumentów danego typu" relname="Powiazana procedura ISO" />
		<!-- SCHEMAT PODZIAŁOWY-->
		<col name="SchematPodzialowy" type="SchematPodz" cstype="ISchematPodziałowy"/>
		<col name="ZawszePrzeliczajOpisAnalityczny" type="boolean"/>
		<!-- NUMERACJA -->
		<col name="NumerDokumentuZeZrodla" type="boolean" modifier="public virtual" category="Numeracja" />
	</table>


  <enum name="StanEwidencji"/>
  <enum name="StanPomocniczych"/>
  <enum name="TypRelacjiDokumentuEwidencji"/>



	<table name="DokEwidencji" name8="EwidDok" tablename="DokEwidencja" guided="Exported" caption="Dokument ewidencji" tablecaption="Dokument ewidencji">
		<interface>IDokumentPlatny</interface>
		<interface>IDaneKontrahentaHost</interface>
		<interface>IRaportEwidencjiSP</interface>
		<interface>IDokumentCRM</interface>
		<interface>IKomunikatEDIHost</interface>
		
		<key name="WgDodatkowego">
			<keycol name="NumerDodatkowy"/>
		</key>
		<key name="WgNumeruDokumentu">
			<keycol name="NumerDokumentu"/>
			<keycol name="DataDokumentu"/>
		</key>
		<key name="WgData" keyprimary="true">
			<keycol name="DataDokumentu"/>
		</key>
		<key name="WgDataWplywu">
			<keycol name="DataWplywu"/>
		</key>
		<key name="WgDataOperacji">
			<keycol name="DataOperacji"/>
		</key>
		<key name="WgDataEwidencji">
			<keycol name="DataEwidencji"/>
		</key>
		<key name="WgTyp">
			<keycol name="Typ"/>
			<keycol name="DataDokumentu"/>
		</key>
		
		<col name="Podmiot" type="IPodmiot" modifier="public virtual" category="Ogólne" relname="Element dziennika podmiotu" children="DokumentyEwidencji" >
			<keycol name="DataDokumentu"/>
		</col>
		<col name="Dokument" type="IDokumentKsiegowalny" readonly="true" category="Ogólne" relname="Element dziennika dokumentu źródłowego" children="DokumentyEwidencji" />
		<col name="Definicja" name12="Def" type="DefinicjaDokumentu" modifier="public virtual" category="Ogólne" relname="Definicja elementu dziennika" relright="true">
			<keycol name="DataDokumentu"/>
		</col>
		<col name="EwidencjaSP" type="EwidencjaSP" cstype="IRow" readonly="true" category="Ogólne" relname="Ewidencja raportu ewidencji SP" />
		<col name="Oddzial" type="OddzialFirmy" modifier="public virtual" category="Ogólne" relname="Oddział firmy dla którego zarejestrowano dokument" relright="true" >
			<verifier name="OddzialRightsVerifier" onadded="true"/>
			<verifier name="OddzialRequiredVerifier" onadded="true"/>
		</col>
		<col name="Typ" type="TypDokumentu" selector="true" readonly="true" required="true" category="Ogólne"/>
		<col name="Stan" type="StanEwidencji" category="Ogólne"/>
		<col name="BuforK" type="boolean" category="Ogólne" description="Bufor kontrolingowy"/>
		<col name="NieKsiegowac" type="boolean" category="Ogólne" description="Nie podlega księgowaniu"/>
		<col name="Seria" type="string" length="12" category="Ogólne"/>
		<col name="Numer" type="NumerDokumentu" category="Ogólne"/>
		<col name="SymbolNumeruZrodla" type="string" length="12" category="Ogólne" caption="Symbol numeru źródła" readonly="set" description="Symbol użyty podczas numeracji z dokumentu źródłowego" />
		<col name="DataWplywu" type="date" required="true" category="Ogólne"/>
		<col name="DataEwidencji" type="date" required="true" category="Ogólne" description="Data dodatkowa"/>
		<col name="NumerDodatkowy" type="string" length="32"/>
		<col name="NumerDokumentu" type="string" length="40" required="true" category="Dokument"/>
		<col name="DataDokumentu" type="date" required="true" category="Dokument"/>
		<col name="DataOperacji" type="date" required="true" category="Dokument"/>
		<col name="Wartosc" type="currency" modifier="public virtual" category="Dokument"/>
		<col name="Opis" type="string" length="80" modifier="public virtual" category="Dokument">
			<attribute>Dictionary("Opis ewidencji", ManualList=true)</attribute>
		</col>
		<col name="Nadrzedny" type="DokEwidencji" category="Dokument" readonly="set" relname="Nadrzedny dokument ewidencji" children="Podrzedne" description="Nadrzędny dokument ewidencji">
			<keycol name="NadrzednyTypRelacji"/>
		</col>
		<col name="NadrzednyTypRelacji" type="TypRelacjiDokumentuEwidencji" category="Dokument" readonly="set" name12="NadrzTypRel" description="Typ relacji do nadrzędnego dokumentu ewidencji" />
		<col name="NrDokumentuK" type="string" length="40"  category="Dokument" description="Nr dokumentu korygowanego"/>
		<col name="EwidencjaZbiorcza" type="DokEwidencji" category="Dokument" readonly="set" relname="Ewidencja zbiorcza" children="EwidencjeEwidencjiZbiorczej" description="Ewidencja zbiorcza" />
		<col name="NumerProceduryISO" type="string" length="20" category="ISO" readonly="set" description="numer procedury ISO wg ktorej powstał ten dokument" />
		<col name="KolKPiR" type="int" category="KPiR" modifier="protected" description="Numer kolumny KPiR w ewidencjach VAT" />
	</table>

	

	<!-- ZAMIENIĆ NA SUBLISTĘ ZE SŁOWNIKA NAZW -->
	<table name="CentrumKosztow" tablename="CentraKosztow" name8="CentKosz" guided="Root" config="true">
		<interface>IElementSlownika</interface>
		<key name="WgNazwy" keyunique="true" keyprimary="true">
			<keycol name="Nazwa" />
		</key>
		<col name="Nazwa" type="string" length="30" required="true" category="Ogólne"/>
		<col name="Opis" type="string" length="255" category="Ogólne" caption="Opis" description="Opis centrum kosztów." />
		<col name="Zablokowane" type="boolean" category="Ogólne"/>
	</table>

	
	
  <table name="ZestawPodzielnikowKosztow" tablename="ZestPodzKosztow"
	caption="Zestaw podzielników kosztów" tablecaption="Zestawy podzielników kosztów" config="true" guided="Root">
    <interface>IZrodloPodzielnikaKosztow</interface>
    <key name="WgNazwy" keyunique="true" keyprimary="true">
      <keycol name="Nazwa" />
    </key>
    <col name="Nazwa" type="string" length="30" required="true" caption="Ogólne"/>
  </table>

  <table name="DefinicjaPodzielnikaKosztow" tablename="DefPodzKosztow"
	caption="Definicja podzielnika kosztów" tablecaption="Definicje podzielników kosztów"
	config="true" guided="Root">
    <key name="WgNazwy" keyunique="true" keyprimary="true">
      <keycol name="Nazwa" />
    </key>
    <col name="Nazwa" type="string" length="30" required="true" category="Ogólne"/>
    <col name="TypeInformation" type="string" length="30" modifier="protected" category="Ogólne"/>
    <col name="Algorytm" type="text" category="Ogólne">
      <attribute>ControlEdit(ControlEditKind.Algorithm)</attribute>
    </col>
    <col name="Zablokowane" type="boolean" category="Ogólne"/>
  </table>

  <table name="PodzielnikKosztow" tablename="PodzielKosztow" name8="PodzKosz"
		caption="Podzielnik kosztów"
		tablecaption="Podzielniki kosztów">
    <col name="Zrodlo" type="IZrodloPodzielnikaKosztow" readonly="true" required="true" caption="Źródło podzielnika"
			children="Podzielniki"
			relname="Podzielniki kosztów"
			keyunique="true"
      keyprimary="true"
			relguided="inner"
			delete="cascade"
		>
      <keycol name="Nazwa"/>
    </col>
    <col name="Nazwa" type="string" length="30" required="true" caption="Nazwa">
      <attribute>Dictionary("Podziel.kosztow")</attribute>
    </col>
    <col name="Definicja" type="DefinicjaPodzielnikaKosztow" required="true"/>
  </table>

  <table name="HistoriaPodzielnika" tablename="HistPodzielnikow" name8="HistPodz"
		caption="Podzielnik kosztów"
		tablecaption="Podzielniki kosztów"
	>
    <col name="Podzielnik" type="PodzielnikKosztow" readonly="true" required="true"
			relname="Zapis historyczny podzielnika kosztó"
			relguided="inner"
			children="Historia"
			keyclass="History"
			keyclasscol="Aktualnosc"
			delete="cascade"
			keyprimary="true"
		/>
    <col name="Aktualnosc" name12="Akt" type="FromTo" required="true" category="Ogólne" />
    <col name="Podstawa" type="double" modifier="private" category="Ogólne"/>
  </table>

  <table name="ElementPodzielnika" tablename="ElemPodzielnikow" name8="ElemPodz"
		caption="Element podzielnika"
		tablecaption="Elementy podzielników"
	>
    <col name="Historia" type="HistoriaPodzielnika" required="true" readonly="true" category="Ogólne"
			relname="Element podzielnika kosztów"
			children="Elementy"
			keyprimary="true"
			keyunique="true"
			delete="cascade"
			relguided="Root"
		>
      <keycol name="ElementPodzialowy" />
    </col>
    <!-- OGÓLNE -->
    <!--col name="Centrum" type="CentrumKosztow" required="true" category="Ogólne" /-->
    <col name="ElementPodzialowy" type="IElementSlownika" required="true" relname="Element podzielnika" children="ElementyPodzielnika" category="Ogólne"/>
    <col name="Wspolczynnik" type="double" category="Ogólne" />
  </table>


  <!-- STAWKA VAT -->
  <enum name="StatusStawkiVat"/>

  <subrow name="StawkaVat">
    <col name="Status" type="StatusStawkiVat"/>
    <col name="Procent" type="percent"/>
    <col name="Zrodlowa" type="percent"/>
    <col name="Kraj" type="KrajTbl">
      <verifier name="StawkaVat.KrajVerifier" onadded="true"/>
    </col>
  </subrow>

  <table name="DefinicjaStawkiVat" name8="DefStVat" tablename="DefStawekVat" guided="Root" config="true"
		caption="Definicja stawki VAT"
		tablecaption="Definicje stawek VAT"
	>
    <key name="WgKodu" keyprimary="true" keyunique="true">
      <keycol name="Kod"/>
    </key>
    <!--Ogólne-->
    <col name="Kod" type="string" length="12" required="true" category="Ogólne"/>
    <col name="Stawka" type="StawkaVat" category="Ogólne"/>
    <col name="Opis" type="string" length="80" category="Ogólne"/>
    <col name="Zablokowane" type="boolean" category="Ogólne"/>
    <!--Ogólne-->
  </table>

  <!-- STAWKA AKCYZY -->
  <enum name="TypStawkiAkcyzy"/>
  <enum name="TypGrupyAkcyzy"/>


  <subrow name="StawkaAkcyzy">
    <col name="Symbol" type="string" length="12" description="Symbol - np. SWW"/>
    <col name="Grupa" type="string" length="255" description="Grupa wyrobów">
      <attribute>Dictionary("Grupa wyrobów", ManualList=true)</attribute>
    </col>
    <col name="Pozycja" type="int" description="Pozycja tabeli stawek"/>
    <col name="Typ" type="TypStawkiAkcyzy"/>
    <col name="TypGrupy" type="TypGrupyAkcyzy" description="Typ grupy wyrobów"/>
    <col name="Procent" type="percent"/>
  </subrow>

  <table name="DefinicjaStawkiAkcyzy" name8="DefStAkc" tablename="DefStawekAkcyzy" guided="Root" config="true"
		caption="Definicja stawki akcyzy"
		tablecaption="Definicje stawek akcyzy">

    <key name="WgKodu" keyprimary="true" keyunique="true">
      <keycol name="Kod"/>
    </key>

    <col name="Kod" type="string" length="12" required="true" category="Ogólne"/>
    <col name="Stawka" type="StawkaAkcyzy" category="Ogólne"/>
    <col name="Opis" type="string" length="80" category="Ogólne"/>

  </table>

  <!-- POZYCJA EWIDENCJI ZBIORCZEJ -->
  <table name="PozycjaEwidencjiZbiorczej" tablename="PozEwidZbiorczej"
		caption="Pozycja ewidencji zbiorczej" tablecaption="Pozycje ewidencji zbiorczych">

    <col name="Typ" type="TypDokumentu" selector="true" required="true" readonly="true" category="Ogólne" />

    <col name="Lp" type="int" batchfield="false"
	    category="Ogólne" description="Liczba porządkowa pozycji w ewidencji"/>

    <col name="Dokument" type="IDokumentKsiegowalny" category="Ogólne"
			caption="Dokument"
			description="Dokument księgowany zbiorczo"
			children="PozycjeEwidencji"
			relname="Pozycje ewidencji zbiorczej dokumentu"
			required="true" readonly="true"
			keyunique="true"/>
    <col name="Ewidencja" type="DokEwidencji" category="Ogólne"
			caption="Ewidencja"
			description="Ewidencja zbiorcza"
			children="Pozycje"
			relname="Pozycje ewidencji zbiorczej"
			required="true" readonly="true"
			relguided="inner"
			delete="cascade"
			keyclass="Lp"	keyclasscol="Lp" keyprimary="true"/>
  </table>

  <enum name="NaliczanieDeklaracjiOddziału"/>

  <interface name="IEwidencjaSP" />

  <subrow name="DanePFRONOddziału">
    <col name="StatusZPChr" type="boolean"/>
    <col name="StatusZPChrOkres" type="FromTo"/>
    <col name="ZakladAktywnosciZawodowej" type="boolean" caption="Zakład aktywności zawodowej"/>
    <col name="PKD" type="string" length="7"/>
    <col name="PFRON" type="string" length="9"/>
    <col name="KodAdresuPrzedsiebiorcy" type="string" length="7"/>
    <col name="FormaPrawna" type="string" length="2"/>
    <col name="FormaPrawna2" type="string" length="2"/>
    <col name="FormaWlasnosci" type="string" length="1"/>
    <col name="WielkoscPracodawcy" type="string" length="1"/>
    <col name="NrRachunku" type="EwidencjaSP" cstype="IEwidencjaSP" relname="Rachunek oddziału dla rozliczeń z PFRON" />
    <col name="StanowiPomocPubliczna" type="boolean"/>
    <col name="DzialalnoscGospodarcza" type="boolean"/>
    <col name="NazwaPelnomocnika" type="string" length="120" caption="Nazwa pełnomocnika"/>
  </subrow>

  <subrow name="DeklaracjeOddziału">
    <col name="UrzadSkarbowy" type="UrzadSkarbowy" cstype="IKontrahent" relname="Urząd skarbowy oddziału" />
    <col name="UrzadSkarbowyPodatek" type="UrzadSkarbowy" cstype="IKontrahent" relname="Urząd skarbowy oddziału dla podatku zryczałtowanego" />
    <col name="KontrahentPomocniczyOddzial" type="Kontrahent" cstype="IPodmiot"
				 relname="Kontrahent oddziału w centrali" description="Kontrahent pomocniczy służący do rozliczeń zobowiązań podatkowych oddziału w centrali"/>
    <col name="KontrahentPomocniczyCentrala" type="Kontrahent" cstype="IPodmiot"
						 relname="Kontrahent centrali w oddziale" description="Kontrahent pomocniczy służący do rozliczeń zobowiązań podatkowych centrali w oddziale"/>
    <col name="NIP" type="string" length="13" category="Ogólne" modifier="public virtual"/>
    <col name="EuVAT" type="string" length="16" category="Ogólne" modifier="public virtual">
      <verifier name="EuVatVerifier"/>
    </col>
    <col name="REGON" type="string" length="14" category="Ogólne" modifier="public virtual">
      <verifier name="RegonVerifier"/>
    </col>
    <col name="KRS" type="string" length="10" category="Ogólne" modifier="public virtual"/>
    <col name="Seria" type="string" length="12">
      <verifier name="DeklaracjeOddziału.SeriaRequiredVerifier" />
      <verifier name="DeklaracjeOddziału.SeriaUniqueVerifier" />
    </col>
    <col name="PIT" type="NaliczanieDeklaracjiOddziału">
      <verifier name="DeklaracjeOddziału.SeriaRequiredVerifier" />
    </col>
    <col name="ZUS" type="NaliczanieDeklaracjiOddziału">
      <verifier name="DeklaracjeOddziału.SeriaRequiredVerifier" />
    </col>
    <col name="PFRON" type="NaliczanieDeklaracjiOddziału">
      <verifier name="DeklaracjeOddziału.SeriaRequiredVerifier" />
    </col>
    <col name="VAT" type="NaliczanieDeklaracjiOddziału">
      <verifier name="DeklaracjeOddziału.SeriaRequiredVerifier" />
    </col>
    <col name="CIT" type="NaliczanieDeklaracjiOddziału">
      <verifier name="DeklaracjeOddziału.SeriaRequiredVerifier" />
    </col>
    <col name="DanePFRON" type="DanePFRONOddziału"/>
    <col name="CITST" type="NaliczanieDeklaracjiOddziału">
      <verifier name="DeklaracjeOddziału.KodGminyRequiredVerifier" />
    </col>
    <col name="KodGminy" type="string" length="7">
      <verifier name="DeklaracjeOddziału.KodGminyRequiredVerifier" />
    </col>
    <col name="CITSTA" type="NaliczanieDeklaracjiOddziału"/>
    <col name="DataRozpDzialalnosci" type="date"/>
  </subrow>


	<table name="OddzialFirmy" tablename="OddzialyFirmy" name8="Oddzialy" guided="Root" cached="true" config="true" caption="Oddział firmy" tablecaption="Oddziały firmy" >
		
		<interface>IElementSlownika</interface>
		<interface>IRightsSource</interface>
		<interface>IAdresHost</interface>
		<interface>IOddzialFirmy</interface>
		<interface>IElementStrukturyFirmy</interface>
		
		<key name="WgIdentyfikatora" keyunique="true" keyprimary="true">
			<keycol name="Identyfikator" />
		</key>
		<key name="WgNazwySkroconej" keyunique="false">
			<keycol name="NazwaSkrocona" />
		</key>
		<key name="WgSymbolu" keyunique="true">
			<keycol name="Symbol" />
		</key>
		
		<col name="Identyfikator" type="string" length="80" required="true" category="Ogólne" />
		<col name="Symbol" type="string" length="12" required="true" category="Ogólne"/>
		<col name="NazwaSkrocona" type="string" length="80" required="true" category="Ogólne" >
			<verifier name="OddzialFirmy.NazwaSkroconaUniqueVerifier"/>
		</col>
		<col name="Nazwa" type="string" length="240" category="Ogólne" />
		<col name="SufiksNazwy" type="string" length="100" category="Ogólne" />
		<col name="Blokada" type="boolean" category="Ogólne"/>
		<col name="Nadrzedny" type="OddzialFirmy" readonly="true" category="Ogólne" children="Pododdzialy" keyunique="true" reldefault="true" relname="Oddzial nadrzedny oddzialu" delete="cascade" description="Oddział nadrzędny">
			<keycol name="Identyfikator"/>
		</col>
		<col name="Deklaracje" type="DeklaracjeOddziału"/>
		<col name="NumerLicencji" type="string" length="8" category="Licencja" required="false" caption="Numer licencji oddziału" description="Numer licencji z której mają być pobierane informacje do wydruków."/>
		<col name="Slownikowy" type="boolean" category="Dodatkowe"/>
		<col name="Dokumentowy" type="boolean" category="Dodatkowe"/>
		<col name="Ksiegowy" type="boolean" category="Dodatkowe"/>
		<col name="CRM" type="boolean" category="Dodatkowe"/>
		<!-- V: 7.7; Niesie informacje dla modułu CzlonkowieSzkolenia; -->
		<col name="CzSz" type="boolean" category="Dodatkowe"/>
		<col name="OkresKsiegowy" type="FromTo" category="Dodatkowe"/>
		<col name="OkresRozliczenKs" type="FromTo" category="Dodatkowe"/>
		<col name="OkresVAT" type="FromTo" category="Dodatkowe"/>
		<!-- V: 8.2 SKWP - Inicjalizacja przelewów -->
		<col name="PrzelewZlecNazwa" type="string" length="53" category="Dodatkowe" />
		<col name="PrzelewZlecAdres" type="string" length="53" category="Dodatkowe" />
	</table>

	
  <table name="HistoriaDanychOddziału" tablename="HstDanychOddzial" guided="Root" cached="true" config="true"
		caption="Historia danych oddziału firmy"
		tablecaption="Historia danych oddziałów firmy"
	>
    <col name="Oddzial" type="OddzialFirmy" required="true" readonly="true" category="Ogólne"
         children="HistoriaZmian"
         keyprimary="true"
         relguided="inner"
         relname="Historia danych oddzału"
         delete="cascade"
         keyunique="true">
      <keycol name="Termin"/>
    </col>
    <col name="Termin" type="date" required="true" category="Ogólne" />
    <col name="NumerLicencji" type="string" length="8" category="Licencja"
		    caption="Numer licencji oddziału" description="Numer licencji do weryfikacji danych oddziału.">
      <verifier name="HistoriaDanychOddziału.NumerLicencjiVerifier" onadded="true"/>
    </col>
    <col name="NazwaSkrocona" type="string" length="80" required="true" category="Ogólne" />
    <col name="Nazwa" type="string" length="240" category="Ogólne" />
    <col name="SufiksNazwy" type="string" length="100" category="Ogólne" />
    <col name="NIP" type="string" length="13" category="Ogólne" modifier="public virtual"/>
    <col name="EuVAT" type="string" length="16" category="Ogólne" modifier="public virtual" caption="EU VAT">
      <verifier name="EuVatVerifier"/>
    </col>
    <col name="REGON" type="string" length="14" category="Ogólne" modifier="public virtual">
      <verifier name="RegonVerifier"/>
    </col>
    <col name="Adres" type="Adres"/>
  </table>

  <enum name="RodzajHistoriiFirmy"/>

  <table name="HistoriaDanychFirmyBase" tablename="HstDanychFirmy" guided="Root" cached="true" config="true"
		caption="Historia danych firmy"
		tablecaption="Historia danych firmy"
	>
    <col name="Rodzaj" type="RodzajHistoriiFirmy" selector="true" required="true" category="Element" readonly="true" />
    <key name="WgTermin" keyprimary="true" keyunique="true">
      <keycol name="Rodzaj"/>
      <keycol name="Termin"/>
    </key>
    <col name="Termin" type="date" required="true" category="Ogólne" />
    <col name="NumerLicencji" type="string" length="8" category="Licencja"
		    caption="Numer licencji oddziału" description="Numer licencji do weryfikacji danych oddziału."/>
    <col name="NazwaSkrocona" type="string" length="80" required="true" category="Ogólne" />
    <col name="Nazwa" type="string" length="240" category="Ogólne" />
    <col name="NIP" type="string" length="13" category="Ogólne" modifier="public virtual"/>
    <col name="EuVAT" type="string" length="16" category="Ogólne" modifier="public virtual" caption="EuVAT">
      <verifier name="EuVatVerifier"/>
    </col>
    <col name="REGON" type="string" length="14" category="Ogólne" modifier="public virtual">
      <verifier name="RegonVerifier"/>
    </col>
    <col name="Adres" type="Adres"/>
  </table>

  <table name="KodKreskowy" tablename="KodyKreskowe"
		caption="Kod kreskowy"
		tablecaption="Kody keskowe"
	>
    <key name="WgKodu" keyprimary="true">
      <keycol name="Kod" />
    </key>

    <key name="WgTyp">
      <keycol name="TypKodu"/>
      <keycol name="PodTypKodu"/>
    </key>

    <col name="Zapis" type="IKodowany"
			description="Zapis, do którego przypisany jest dany kod kreskowy"
			children="KodyKreskowe"
			relname="Kody kreskowe zapisu"
			required="true" readonly="true" keyunique="true"
 			relguided="inner" relright="true" delete="cascade">
      <keycol name="TypKodu" />
      <keycol name="Kod" />
      <keycol name="PodTypKodu" />
    </col>
    <!-- TASK: 2870. 4.5 length="20" -->
    <col name="Kod" type="string" length="130" required="true"
         description="Kod (może być kreskowy) do szybkiego wyszukiwania obiektów w programie.">
      <verifier name="KodKreskowy.EANVerifier" />
      <verifier name="KodKreskowy.EANUniqueVerifier" />
      <verifier name="KodKreskowy.EMAILKodVerifier"/>
    </col>

    <col name="Jednostka" type="Jednostka" cstype="GuidedRow"
			description="Jednostka przypisana do danego kodu."
			relname="Jednostka kodu"
		/>

    <!-- 5.3 -->
    <col name="TypKodu" type="TypKodu" readonly="true" />
    <col name="PodTypKodu" type="PodTypKodu" caption="Rodzaj kodu">
      <verifier name="KodKreskowy.EANVerifier" />
      <verifier name="KodKreskowy.EANUniqueVerifier" />
    </col>

    <!-- 8.4 -->
    <col name="Obcy" type="boolean" caption="Kod kontrahenta" description="Określa kod, który stosowany jest przez danego kontrahenta."/>
  </table>

  <!-- Mateusz - task 10771 - 7.8 - dodanie adresów WWW tak samo jak kodów kreskowych dla obiektów -->
  <table name="AdresWWW" tablename="AdresyWWW"
		caption="Adresy WWW"
		tablecaption="Adresy WWW">

    <key name="WgDomyslnyZapis" keyprimary="true">
      <keycol name="Zapis" />
      <keycol name="Domyslny"/>
    </key>

    <col name="Zapis" type="IAdresyWWWHost"
			description="Zapis, do którego przypisany jest dany adres WWW"
			children="AdresyWWW"
			relname="Adresy WWW zapisu"
			required="true" readonly="true" keyunique="true"
 			relguided="inner" relright="true" delete="cascade">
      <keycol name="Adres" />
    </col>

    <col name="Adres" type="string" length="255" required="true" modifier="public virtual" caption="Adres WWW"
         description="Adres WWW skojarzony z danym zapisem." />

    <col name="Domyslny" type="boolean" required="false" caption="Domyślny" modifier="public virtual"
         description="Czy dany adres WWW jest domyślny dla danego zapisu." />
  </table>

  <table name="Licznik" tablename="Liczniki">
    <key name="WgNazwy" keyprimary="true" keyunique="true">
      <keycol name="Nazwa"/>
    </key>
    <col name="Nazwa" type="string" length="32" required="true" readonly="true" />
    <col name="Ostatni" type="int"/>
  </table>

  <enum name="StronaKsiegowania"/>
  <enum name="TypElementuKsiegowalnego"/>
  <enum name="RodzajPodmiotu"/>
  <enum name="StatusPodmiotu"/>
  <enum name="TypKodu"/>
  <interface name="IDokument"/>
  <interface name="IDokumentKasowy" />
  <interface name="IDokumentPlatny" />
  <interface name="IDokumentKsiegowalny"/>
  <interface name="IKontrahent" />
  <interface name="IPodmiot" />
  <interface name="IElementSlownika" />
  <interface name="IZrodloPodzielnikaKosztow"/>
  <interface name="IZrodloOpisuAnalitycznego"/>
  <interface name="IRaportEwidencjiSP"/>
  <interface name="IKodowany"/>
  <interface name="IElementStrukturyFirmy"/>
  <interface name="ISchematPodziałowy"/>
  <interface name="IAdresyWWWHost"/>


  <simpletype name="Amount">
    <cstype>Amount</cstype>
    <cscreator>new Amount(creator.Load_double({0}), creator.Load_string({0}+1))</cscreator>
    <nullcondition>value==Amount.Zero || value==Amount.Empty</nullcondition>
    <dbfield type="double" postfix="Value" />
    <dbfield type="string" postfix="Symbol" />
  </simpletype>


	<table name="KrajTbl" tablename="KrajeTbl" guided="Root" config="true" caption="Kraj" tablecaption="Kraje" >
		<key name="WgKodu2" keyunique="true" keyprimary="true">
			<keycol name="Kod2"/>
		</key>
		<key name="WgKodu3" keyunique="true">
			<keycol name="Kod3"/>
		</key>
		<key name="WgKoduNum" keyunique="true">
			<keycol name="KodNum"/>
		</key>
    <key name="WgNazwa" keyunique="true">
      <keycol name="Nazwa"/>
    </key>

		<col name="Kod2" type="string" length="2" required="true" caption="Kod kraju alfa-2" description="Dwuliterowy kod kraju wg standardu ISO-3166-1" >
			<verifier name="KrajTbl.Kod2FormatVerifier" onadded="true" />
		</col>
		<col name="Kod3" type="string" length="3" required="true" caption="Kod kraju alfa-3" description="Trzyliterowy kod kraju wg standardu ISO-3166-1" >
			<verifier name="KrajTbl.Kod3FormatVerifier" onadded="true" />
		</col>
		<col name="KodNum" type="string" length="3" required="true" caption="Kod cyfrowy kraju" description="Trzycyfrowy kod kraju wg standardu ISO-3166-1" >
			<verifier name="KrajTbl.KodNumFormatVerifier" onadded="true" />
		</col>
		<col name="Nazwa" type="string" length="64" required="true" caption="Nazwa kraju" description="Nazwa kraju" />
		<col name="SymbolWaluty" type="string" length="3" caption="Symbol waluty" description="Symbol domyślnej waluty dla kraju">
			<verifier name="KrajTbl.WalutaFormatVerifier" onadded="true" />
		</col>
		<col name="UE" type="boolean" caption="Kraj UE" description="Kraj jest członkiem Unii Europejskiej" />
		<col name="Blokada" type="boolean" caption="Blokada" description="Blokada - kraj zablokowany nie może być użyty do tworzenia nowych danych" />
	</table>


	<!-- ISO BEGIN -->

  <table name="IsoProcedura" tablename="IsoProcedury" guided="Root" config="true" caption="Procedura ISO" tablecaption="Procedury ISO" >
    <key name="WgNazwy" keyprimary="true" keyunique="true">
      <keycol name="Nazwa"/>
    </key>
    <col name="Nazwa" type="string" length="40" required="true" caption="Nazwa procedury" description="Nazwa procedury" />
    <col name="Opis" type="string" length="200" caption="Opis procedury" description="Opis procedury" />
    <col name="Blokada" type="boolean" caption="Blokada" description="Procedura zablokowana" />
  </table>

  <table name="IsoNumerProcedury" tablename="IsoNumeryProc" config="true" caption="Numer procedury ISO" tablecaption="Numery procedur ISO">
    <col name="Procedura" type="IsoProcedura" required="true" keyunique="true" keyprimary="true" readonly="true" category="Ogólne" children="NumeryWgOddzialow" delete="cascade" relguided="inner" >
      <keycol name="Oddzial"/>
    </col>
    <col name="Oddzial" type="OddzialFirmy" required="true" category="Ogólne" delete="cascade" relguided="inner" relname="NumeryOddzialu"/>
    <col name="Numer" type="string" length="20" required="true"  category="Ogólne" />
  </table>

  <!-- ISO END -->

  <!-- STRUKTURA HIERARCHICZNA BEGIN MS -->

  <table name="StrukturaOrganizacyjna" tablename="StrukturyOrg" guided="Root" config="true"
		caption="Struktura organizacyjna"
		tablecaption="Struktury organizacyjne"
	>
    <interface>IRightsSource</interface>
    <key name="WgNazwy" keyunique="true" keyprimary="true">
      <keycol name="Nazwa" />
    </key>
    <col name="Nazwa" type="string" length="30" required="true" category="Ogólne" />
    <col name="Blokada" type="boolean" category="Ogólne" />
    <col name="Xml" type="text" category="Definicja" caption="Definicja zakładki użytkownika." />
    <col name="Algorytm" type="text" category="Ogólne">
      <attribute>ControlEdit(ControlEditKind.Algorithm)</attribute>
    </col>

    <!--[17136][9.3][Workflow 9.3]: Prezentacja struktur organizacyjnych w drzewie folderow enova-->
    <col name="PublikujWDrzewie" type="boolean" category="Ogólne" caption="Publikuj w drzewie" description="Określa czy definicja ma zostać opublikowana w folderze Struktury"/>

    <!--[17566][9.3][Workflow 9.3]: Struktury - historyczność-->
    <col name="Historycznosc" type="boolean" category="Historyczność" caption="Historyczność" description="Określa czy definicja ma przechowywać historię struktury"/>

    <!--[17137][9.3][Workflow 9.3]: Parametr ekskluzywności rekordów na definicji struktury-->
    <col name="Ekskluzywnosc" type="boolean" category="Ogólne" caption="Ekskluzywność powiązań" description="Określa czy powiązania struktury organizacyjnej mogą wystąpić kilka razy dla tej struktury"/>
    
    <!--[17137][9.3][Workflow 9.3]: Elementy struktury i struktura nie są widoczne na standardowych listach-->
    <col name="Systemowa" type="boolean" readonly="set" category="Ogólne" caption="Struktura systemowa" description="Struktura jest w całości zarządzana z poziomu kodu i niedostępna na oknach."/>
  </table>

  <table name="DefinicjaElementuStrukturyOrganizacyjnej" tablename="DefElStrukturOrg" guided="Root" config="true"
		caption="Definicja elementu struktury organizacyjnej"
		tablecaption="Definicje elementów struktur organizacyjnych"
	>
    <col name="Struktura" type="StrukturaOrganizacyjna" category="Ogólne" required="true" readonly="true"
      relguided="inner"
      relright="true"
      delete="cascade"
      children="DefinicjeElementów"
      keyunique="true"
			relname="Definicje elementów struktury organizacyjnej">
      <keycol name="Nazwa"/>
    </col>
    <col name="Nazwa" type="string" length="30" required="true" category="Ogólne" />
    <col name="DozwolonePowiazania" type="boolean"/>
    <col name="Warunek1" type="boolean"/>
    <col name="Warunek2" type="boolean"/>
    <col name="Warunek3" type="boolean"/>
    <col name="Warunek4" type="boolean"/>
    <col name="Warunek5" type="boolean"/>

    <!--[17588][9.3][Workflow 9.3]: Dodać property określające typ rekordu jaki może zostać podpięty pod strukturę-->
    <col name="TypZrodlaPowiazania" type="string" length="100" category="Ogólne" caption="Typ obiektu źródła" description="Określa typ obiektu źródła powiązania" />
  </table>

  <table name="ElementStrukturyOrganizacyjnej" tablename="ElementyStrOrg" guided="Root" config="false"
		caption="Element struktury organizacyjnej"
		tablecaption="Elementy struktur organizacyjnych"
	>
    
    <interface>IPermissionClient</interface>
    
    <key name="WgKodu" keyunique="true" >
      <keycol name="Struktura"/>
      <keycol name="Kod" />
      <keycol name="Nazwa"/>
      <keycol name="Nadrzedny" />
      <keycol name="Okres.From" />
      <keyinclude name="Okres.To" />
    </key>

    <key name="WgKodu2">
      <keycol name="Kod" />
    </key>

    <col name="Struktura" type="StrukturaOrganizacyjna" category="Ogólne" required="true" readonly="true" keyprimary="true" keyunique="true"
		  relright="true"
		  children="Elementy"
		  relname="Definicje elementów struktury organizacyjnej">
      <keycol name="Nazwa"/>
      <keycol name="Kod" />
      <keycol name="Nadrzedny" />
      <keycol name="Okres.From" />
      <keyinclude name="Okres.To" />
      <verifier name="ElementStrukturyOrganizacyjnej.UnikalnoscVerifier" onadded="true" />
      <verifier name="ElementStrukturyOrganizacyjnejSystemUserGroupVerifier" onadded="true"/>
    </col>
    
    <col name="Nadrzedny" type="ElementStrukturyOrganizacyjnej" category="Ogólne"
		  children="Elementy"
		  delete="cascade"
		  readonly="set"
		  relright="true"
		  relname="Zależne elementy struktury organizacyjnej">
      <keycol name="Struktura"/>
      <verifier name="ElementStrukturyOrganizacyjnej.UnikalnoscVerifier" onadded="true" />
      <verifier name="ElementStrukturyOrganizacyjnejSystemUserGroupVerifier" onadded="true"/>
    </col>

    <col name="Definicja" type="DefinicjaElementuStrukturyOrganizacyjnej" category="Ogólne" required="true" relname="Elementy struktury organizacyjnej wg definicji">
      <verifier name="ElementStrukturyOrganizacyjnejSystemUserGroupVerifier" onadded="true"/>
    </col>
    <col name="Kod" type="string" length="12" category="Ogólne" required="true">
      <verifier name="ElementStrukturyOrganizacyjnej.UnikalnoscVerifier" onadded="true" />
      <verifier name="ElementStrukturyOrganizacyjnejSystemUserGroupVerifier" onadded="true"/>
    </col>
    <col name="Nazwa" type="string" length="50" category="Ogólne" required="true">
      <verifier name="ElementStrukturyOrganizacyjnej.UnikalnoscVerifier" onadded="true" />
      <verifier name="ElementStrukturyOrganizacyjnejSystemUserGroupVerifier" onadded="true"/>
    </col>
    <col name="NazwaPomocnicza" type="string" length="50" category="Ogólne" />

    <!--[17566][9.3][Workflow 9.3]: Struktury - historyczność-->
    <col name="Okres" type="FromTo" category="Historyczność" caption="Okres" description="Okres obowiązywania elementu struktury organizacyjnej" readonly="set">
      <verifier name="ElementStrukturyOrganizacyjnej.UnikalnoscVerifier" onadded="true" />
      <verifier name="ElementStrukturyOrganizacyjnejSystemUserGroupVerifier" onadded="true"/>
    </col>
    
  </table>

  <interface name="IŹródłoPowiązaniaStrukturyOrganizacyjnej"/>

  <table name="PowiązanieStrukturyOrganizacyjnej" tablename="PowiazaniaStrOrg"
     caption="Powiązanie z elementem struktury organizacyjnej"
     tablecaption="Powiązania elementyów struktur organizacyjnych"
	>
    <col name="Element" type="ElementStrukturyOrganizacyjnej" category="Ogólne"
      children="Powiązania"
      readonly="true"
      relright="true"
      keyunique="true"
      keyprimary="true"
			relname="Powiązania elementu struktury organizacyjnej">
      <keycol name="Zrodlo"/>
    </col>
    <col name="Zrodlo" type="IŹródłoPowiązaniaStrukturyOrganizacyjnej" category="Ogólne"
      children="PowiązaniaStrOrg"
      readonly="true"
      relright="true"
			relname="Powiązania źróła struktury organizacyjnej"/>
  </table>





  <enum name="DostepnoscTeczki"/>
  <table name="DefTeczki" tablename="DefsTeczek" config="true" tablecaption="Definicje teczek" caption="Definicja teczki" guided="Root">
    <interface>IRightsSource</interface>
    <key name="WgSymbol" keyunique="true" keyprimary="true">
      <keycol name="Symbol"/>
    </key>
    <col name="Symbol" type="string" length="16" required="true" category="Ogólne" important="true" caption="Symbol" description="Skrótowa nazwa definicji, wykorzystywana do wyszukiwania definicji oraz numeracji teczek." />
    <col name="Nazwa" type="string" length="128" required="true" category="Ogólne" important="true" caption="Nazwa" description="Pełna nazwa definicji." />
    <col name="Numeracja" type="DefinicjaNumeracji" category="Definicja" caption="Numeracja" description="Ustawienia określające sposób numeracji." />
    <col name="Blokada" type="boolean" category="Ogólne" caption="Zablokowana" description="Określa zablokowanie definicji." />
    <col name="Dostepnosc" type="DostepnoscTeczki"  category="Ogólne"  caption="Dostepność teczki" description="Określa typ dostepności teczki."  />
    <col name="FormularzUzytkownika" type="boolean" category="Ogólne" caption="Formularz użytkownika" description="Formularz użytkownika." />
    <col name="NazwaZakladkiUz" type="string" length="50" category="Ogólne" caption="Nazwa zakładki użytkownika" />
    <col name="XmlForm" type="text" category="Definicja" caption="Definicja zakładki użytkownika." />
  </table>


  <table name="StanTeczki" tablename="StanyTeczek" name8="StanTec" config="true" tablecaption="Stany teczek" caption="Stan teczki">

    <key name="WgNazwaDefinicja">
      <keycol name="Nazwa"/>
      <keycol name="Definicja" />
    </key>

    <col name="Definicja" type="DefTeczki" required="true" readonly="true" category="Ogólne" description="Definicja teczki, do której jest przypisany ten stan"
         children="Stany" relname="Definicja teczki" delete="cascade" relguided="inner"
         relright="false" keyprimary="true" keyclass="Lp" keyclasscol="Lp" />

    <col name="Lp" type="int" required="true" batchfield="false" category="Ogólne" caption="Lp" description="Liczba porządkowa stanu ." />

    <col name="Nazwa" type="string" length="30" required="true" category="Ogólne" caption="Nazwa" description="Nazwa stanu" />
    <col name="Aktywny" type="boolean" category="Ogólne" caption="Aktywny" description="Wskazuje, czy teczka w tym stanie jest aktywne (otwarte)." />
    <col name="Blokada" type="boolean" category="Ogólne" caption="Zablokowany"  description="Określa zablokowanie stanu." />

  </table>

  <table name="Teczka" tablename="Teczki" tablecaption="Teczki" caption="Teczka" guided="Root" name8="Teczki">

    <interface>IPermissionClient</interface>

    <col name="Definicja" type="DefTeczki" required="true" setonlynull="true" category="Numer"
         description="Definicja teczki"  relname="Definicja teczki" relright="true" />

    <key name="WgNazwy" keyprimary="true">
      <keycol name="Nazwa" />
    </key>

    <col name="Stan" type="StanTeczki" category="Ogolne" description="Stan teczki." />
    <col name="Aktywny" type="boolean" category="Ogolne" readonly="set" caption="Aktywny" description="Wskazuje, czy teczka w tym stanie jest aktywna (otwarta)." />
    <col name="Numer" type="NumerDokumentu" category="Numer" />

    <col name="Nazwa" type="string" length="128" category="Ogolne" required="true" caption="Nazwa teczki" description="Krótka nazwa teczki, na podstawie której będzie można ją wyszukiwać">
      <attribute>Dictionary("Core.Tcz.Nazwa", ManualList=true)</attribute>
    </col>

    <col name="Opis" type="text" category="Ogolne" caption="Opis" description="Dokładny opis teczki" />
    <col name="Wlasciciel" type="Operator" category="Ogólne" description="Właściciel teczki" />
  </table>

  <table name="ElemTeczki" tablename="ElemTeczek" tablecaption="Elementy teczek" caption="Element teczki" name8="ETeczki">

    <col name="Teczka" type="Teczka" required="true" description="Teczka do której należy element" delete="cascade"
         children="Elementy" relname="Elementy teczki" relguided="true" category="Ogólne" keyclass="Lp" keyclasscol="Lp"/>

    <col name="Element" type="IGuidedRow" keyprimary="true"
         description="Element teczki" keyunique="true" category="Ogólne">
      <keycol name="Teczka"/>
    </col>

    <col name="Nazwa" type="string" length="255" category="Ogólne" required="true" caption="Nazwa, opis elementu" description="Krótka nazwa, opis elementu." />
    <col name="Lp" type="int" required="true" batchfield="false" category="Ogólne" caption="Lp" description="Liczba porządkowa elementu w ramach teczki."/>
    <col name="Data" type="date" category="Ogólne" caption="Data elementu" description="Data elementu" />
  </table>

  <!-- DANE KONTAKTOWE -->

  <enum name="TypRodzajuKontaktu"/>
  <table name="RodzajKontaktu" tablename="RodzajeKontaktow" name8="RodzKnt" tablecaption="Rodzaj kontaktu" caption="Rodzaj kontaktu" guided="Root">

    <key name="WgNazwa" keyprimary="true" keyunique="true">
      <keycol name="Nazwa"/>
    </key>

    <col name="Nazwa" type="string" length="64" required="true" category="Ogólne" important="true" caption="Nazwa rodzaju kontaktu"
         description="Nazwa rodzaju kontaktu." />

    <col name="Typ" type="TypRodzajuKontaktu" category="Ogólne" caption="Typ rodzaju kontaktu" description="Określa typ rodzaju kontaku."/>
  </table>

  <interface name="IDaneKontaktoweHost" />
  <table name="DaneKontaktowe" tablename="DaneKnt" name8="DaneKnt" tablecaption="Dane kontaktowe" caption="Dane kontaktowe">

    <key name="WgKontakt" keyprimary="true" >
      <keycol name="Kontakt"/>
    </key>

    <col name="Rodzaj" type="RodzajKontaktu" required="true" category="Ogólne" setonlynull="true" caption="Rodzaj kontaktu" description="Rodzaj kontaktu.">
      <!-- <verifier name="DaneKontaktowe.UniqueDaneVerifier" onadded="true"/> -->
    </col>
    <col name="Kontakt" type="string" length="128" required="true" category="Ogólne" caption="Kontakt" description="Kontakt." />
    <col name="Opis" type="string" length="255" category="Ogólne" caption="Opis" description="Krótki opis kontaktu." />
    <col name="Domyslny" type="boolean" category="Ogólne" caption="Domyślny" description="Określa domyślny kontakt." />
    <col name="Host" type="IDaneKontaktoweHost" required="true" category="Ogólne" caption="Host kontaktu" description=""
         relname="Kontakty" children="Kontakty" delete="cascade" relguided="inner">
      <keycol name="Rodzaj" />
      <keycol name="AdresExt" />
      <attribute>Context(Required=false)</attribute>
    </col>
    <col name="AdresExt" type="AdresExt" caption="Adres" required="false" category="Ogólne" delete="cascade">
      <keycol name="Rodzaj" />
      <!-- <verifier name="DaneKontaktowe.UniqueDaneVerifier" onadded="true"/> -->
    </col>

  </table>


  <table name="CelKontaktu" tablename="CeleKontaktow" name8="CeleKnt" tablecaption="Cele kontaktów" caption="Cel kontaktu">

    <col name="DaneKontaktowe" type="DaneKontaktowe"  category="Ogólne" caption="Dane kontaktowe" description="Dane kontaktowe"
         children="CeleKontaktu" relname="Cele kontaktu" keyprimary="true" relright="true" keyunique="true" required="true"
         delete="cascade"
         >
      <keycol name="Cel"/>
    </col>

    <col name="Cel" type="SlownikElem"  category="Ogólne" caption="Cel" description="Cel kontaktu" required="true"/>

  </table>

  <enum name="SelektorSlownika" />

  <table name="SlownikElem" config="true" tablename="Slowniki" name8="Slownik" guided="Root" caption="Słownik">

    <key name="WgKategoria" keyprimary="true" keyunique="true">
      <keycol name="Kategoria"/>
      <keycol name="Nazwa"/>
    </key>

    <key name="WgNazwa">
      <keycol name="Nazwa"/>
    </key>

    <col name="Nadrzedny" type="SlownikElem" description="Określa nadrzędny obiekt słownikowy"
			relname="Nadrzedny"
			delete="cascade"
         children="Podrzędne"
      />

    <col name="Selektor" type="SelektorSlownika"  selector="true" required="true"  readonly="true" caption="Selektor słownika"
        description="Selektor słownika." />

    <col name="Kategoria" type="string" length="32" required="true" readonly="true" caption="Nazwa słownika"
			description="Nazwa słownika, do którego należy dany element." />

    <col name="Kod" type="string" length="32" caption="Kod" description="Kod elementem słownika." />
    <col name="Nazwa" type="string" length="128" caption="Nazwa" description="Nazwa elementu słownika." />
    <col name="Liczba" type="int" caption="Liczba" description="Wartość liczbowa elementu słownika." />
    <col name="Domyslny" type="boolean" caption="Wartość domyślna" description="Wartość domyślna w ramach kategorii"/>
  </table>


  <!-- STRUKTURA HIERARCHICZNA END -->

  <enum name="StandardDefXml" />
  <enum name="SelektorDefXml" />
  <enum name="RodzajZrodlaDanychDefXml"/>
  <table name="DefXmlNag" tablename="DefsXmlNag" name8="DefsXmlN" guided="Root" config="true"
         tablecaption="Definicje XML" caption="Definicja XML" >

    <key name="WgNazwa" keyprimary="true" keyunique="true">
      <keycol name="Nazwa"/>
    </key>

    <key name="WgTableName" >
      <keycol name="TableName"/>
    </key>

    <key name="WgSelektor" >
      <keycol name="Selektor"/>
    </key>


    <col name="Selektor" type="SelektorDefXml" selector="true" required="true"  readonly="true"
         caption="Selektor definicji" description="Selektor definicji."/>

    <col name="Nazwa" type="string" length="80" category="Ogólne" required="true"
         caption="Nazwa definicji" description="Krótka nazwa definicji XML." />
    <col name="TableName" type="string" length="16" required="true" setonlynull="true"
         category="Ogólne" caption="Klasa" description="Klasa obiektu."/>

    <col name="Standard" type="StandardDefXml" category="Ogólne" />
    <col name="Rodzaj" type="RodzajDefXml" required="true" category="Ogólne" />
    <col name="Blokada" type = "boolean" category="Ogólne" caption="Zablokowana" description="Określa zablokowanie definicji." />
    <col name="PlikSzablonu" type="string" length="255" category="Ogólne" caption="Plik szabolnu" />
    <col name="RodzajZrodlaDanych" type="RodzajZrodlaDanychDefXml" caption="Rodzaj źródła danych" category="Ogólne" description="Określa rodzaj źródła danych." />
    <col name="KodowanieZnakow" type="int" caption="Kodowanie znaków" category="Ogólne" description="Określa sposób kodowania znaków (strona kodowa)." />
  </table>


  <enum name="ElementType" />
  <enum name="PoleSpecjalne" />
  <table name="DefXmlElem" tablename="DefsXmlElem" name8="DefsXmlE" guided="Root" config="true"
         tablecaption="Elementy definicji XML" caption="Element definicji XML">

    <col name="DefXmlNag" type="DefXmlNag" required="true" category="Ogólne"
          description="Definicja XML, z którą powiązany jest element"
          children="DefsXmlElem"
          relname="DefsXmlElem"
          delete="cascade"
          keyprimary="true"
         keyunique="true"
         relguided="inner"
         >
      <keycol name="Nadrzedny"/>
      <keycol name="Element"/>
    </col>

    <col name="Lp" type="int" batchfield="false" required="true"/>

    <col name="Element" type="string" length="80" category="Ogólne" required="true" caption="Nazwa elementu" description="Nazwa elementu.">
      <verifier name="DefXmlElem.DefXmlElemElementVerifier" onadded="true"/>
    </col>

    <col name="Nadrzedny" type="DefXmlElem" category="Ogólne" caption="Element nadrzędny" description="Określa nadrzędny element."
     lock="ExclusiveGet" children="Podrzedne" relname="ElementyPodrzedne" delete="cascade" >
      <keycol name="Lp" />
    </col>

    <col name="TableName" type="string" length="16" required="true" category="Ogólne" caption="Klasa" description="Klasa obiektu."/>
    <col name="CodeExport" type="text" category="Ogólne" caption="Kod eksportu" description="Kod dla eksportu."/>
    <col name="CodeImport" type="text" category="Ogólne" caption="Kod importu" description="Kod dla importu."/>
    <col name="CodeVisible" type="text" category="Ogólne" caption="Kod widoczności" description="Kod widoczności elementu."/>
    <col name="Code" type="text" category="Ogólne" caption="Pozostały kod" description="Pozostały kod."/>
    <col name="Type" type="ElementType" category="Ogólne" caption="Typ elementu" description="Określa typ obiektu tworzonego przy przekształcaniu elementu."/>
    <col name="Specjalne" type="PoleSpecjalne" category="Ogólne" caption="Przeznaczenie elementu" description="Określa specjalne przeznaczenie danego elementu."/>
  </table>

  <interface name="IImportExportXmlHost"/>
  <enum name="RodzajOperacji"/>
  <table name="ImportExportXml" tablename="ImpExpXml" caption="Importy, eskporty" tablecaption="Importy, eksporty XML">
    <col name="Host" type="IImportExportXmlHost"  required="true" caption="Obiekt, którego dotyczy import/eksport"
         keyunique="true" keyprimary="true" delete="cascade" />
    <col name="DefinicjaXmlNag" type="DefXmlNag"  required="true" caption="Definicja wykorzystana do importu/eksportu." />
    <col name="Plik" type="string" length="255" required="true" caption="Plik importu/eksportu"/>
    <col name="Rodzaj" type="RodzajOperacji" caption="Rodzaj operacji" description="Rodzaj operacji." />
    <col name="Xml" type="text" category="Ogólne" caption="Przetworzony dokument XML" description=""/>
  </table>

  
  <interface name="IDefinicjaKomunikatuEDIHost"/>
  <table name="RodzajKomunikatuHost" tablename="RodzajeKomHost" caption="Rodzaj komunikatu" tablecaption="Rodzaje komunikatów">
    <col name="Host" type="IDefinicjaKomunikatuEDIHost"  required="true" caption="Obiekt, dla którego zdefionowano komunikat"
         keyprimary="true" delete="cascade" keyclass="Lp"	keyclasscol="Lp" children="RodzajeKomunikatow" relname="Rodzaje komunikatow">
      <attribute>Context</attribute>
    </col>

    <col name="Rodzaj" type="RodzajDefXml" caption="Rodzaj komunikatu" description="Rodzaj definiowanego komunikatu." required="true" />
    <col name="Kierunek" type="RodzajOperacji" caption="Kierunek komunikatu" description="Kierunek definiowanego komunikatu." required="true" />
    <col name="Lp" type="int" required="true" batchfield="false"/>
  </table>

  <table name="DefXmlFiltr" tablename="DefXmlFiltry" tablecaption="Filtry dla komunikatów." caption="Filtr dla komunikatu" >
    <key name="WgNazwaOperator" keyprimary="true" keyunique="true">
      <keycol name="Tabela"/>
      <keycol name="Operator"/>
    </key>
    <col name="Operator" type="Operator" category="Ogólne" description="Operator, do którego przypisano filtr." />
    <col name="Tabela" type="string" length="32" required="true" caption="Tabela danych, do której przypisano filtr." />
    <col name="Filtr" type="string" length="255" required="true" caption="Filtr."/>
  </table>
  <!-- DbTuples -->

  <enum name="FolderPaths"/>
  <enum name="AttachToBasicDokumentType"/>
  <enum name="CreateProcessType"/>
  <enum name="WidocznoscType"/>

  <table name="DbTupleDefinition" tablename="TuplesDefs" guided="Root" config="true"
         caption="Definicja dokumentu dodatkowego" tablecaption="Definicje dokumentów dodatkowych"
  >
    <interface>IRuntimeRowDefinition</interface>
    <interface>IRightsSource</interface>
    
    <key name="WgNazwa" keyunique="true" keyprimary="true">
      <keycol name="NazwaTabeli"/>
      <keycol name="Nazwa"/>
    </key>
    <col name="NazwaTabeli" type="string" length="16" required="true" readonly="true"
         category="Ogólne" caption="Klasa" description="Klasa obiektu nadrzędanego"/>
    <col name="Nazwa" type="string" length="50" required="true" important="true"
         category="Ogólne" caption="Nazwa" description="Nazwa dokumentu"/>
    <col name="Symbol" type="string" length="12" required="true"
         category="Numeracja" caption="Symbol" description="Symbol dokumentu"/>
    <col name="Seria" type="boolean"
         category="Numeracja" caption="Seria dokumentu" />
    <col name="Numeracja" type="DefinicjaNumeracji"
         category="Numeracja" />
    <col name="Domyslna" type="boolean"
        category="Ogólne" caption="Domyślne" description="Definicja domyślna"/>
    <col name="Blokada" type="boolean"
         category="Ogólne" caption="Blokada" description="Definicja zablokowana"/>
    <col name="FolderPath" type="FolderPaths"/>
    <col name="Xml" type="text"
         category="Ogólne" caption="Definicja zakładki użytkownika" />
    <col name="Tools" type="RuntimeRowDefinitionTools"/>
    <col name="AttachToBasicDocument" type="AttachToBasicDokumentType"
        category="Ogólne" caption="Dodaj do dokumentu podstawowego" description="Dodaj do nowego dokumentu podstawowego"/>
    <col name="CreateProcess" type="CreateProcessType" caption="Uruchom procesy"/>
  </table>

  <interface name="IBasicDocument"/>
  <table name="DbTuple" tablename="Tuples" guided="Root"
        caption="Dokument dodatkowy" tablecaption="Dokumenty dodatkowe"
    >
    <interface>IŹródłoPowiązaniaStrukturyOrganizacyjnej</interface>

    <key name="WgData" keyprimary="true">
      <keycol name="Data"/>
    </key>
    <key name="WgTermin">
      <keycol name="Termin"/>
    </key>
    <key name="WgOkres">
      <keycol name="Okres.To"/>
      <keyinclude name="Okres.From"/>
    </key>
    <col name="Definicja" type="DbTupleDefinition" required="true" readonly="true"
      category="Ogólne" caption="Definicja" description="Definicja dokumentu"/>
    <col name="Numer" type="NumerDokumentu"
         category="Dokument" />
    <col name="Seria" type="string" length="30"
         category="Dokument">
      <attribute>Dictionary("Seria zdarzenia")</attribute>
    </col>
    <col name="Data" type="date" required="true"
      category="Dokument" caption="Data" description="Data dokumentu"/>
    <col name="Termin" type="date"
      category="Dokument" caption="Termin" description="Data zdarzenia"/>
    <col name="Okres" type="FromTo"
      category="Dokument" caption="Okres" description="Okres zdarzenia"/>
    
    <col name="BasicDocument" type="IBasicDocument" category="Ogólne" caption="Dokument podstawowy" description="Dokument podstawowy" readonly="set">
      <verifier name="DbTuple.PrimaryRelationOrBasicDocumentRequiredVerifier" onadded="true"/>
    </col>
    <col name="RelacjaPodstawowa" type="IGuidedRow" caption="Relacja podstawowa" description="Relacja podstawowa">
      <verifier name="DbTuple.PrimaryRelationOrBasicDocumentRequiredVerifier" onadded="true"/>
    </col>
    
    <col name="Fields" type="RuntimeFields"/>
  </table>

  <table name="DbTupleRel" tablename="TuplesRelations"
        caption="Relacja dokumentu dodatkowego" tablecaption="Relacje dokumentów dodatkowych" namespace="Soneta.Core.DbTuples"
    >
    <col name="DbTuple" type="DbTuple" required="true" readonly="true" keyprimary="true"
      children="Relations" delete="cascade"
      category="Ogólne" caption="Zdarzenie" description="Zdarzenie"
    >
      <keycol name="Definicja"/>
    </col>
    <col name="Host" type="IGuidedRow" category="Ogólne" caption="Rekord" description="Rekord powiązany">
      <keycol name="Podstawowa"/>
    </col>
    <col name="Definicja" type="RuntimeFieldDefinition" required="true" readonly="true"
      category="Ogólne" caption="Definicja" description="Definicja pola dokumentu"/>
    <col name="Podstawowa" type="boolean" readonly="true"
         category="Ogólne" caption="Podstawowa" description="Relacja podstawowa"/>
  </table>


  <interface name="IGIODOZgodnyHost"/>
  <enum name="GIODOStatus"/>
  <table name="GIODOZgodny" tablename="GIODOZgodne">
    <col name="Host" type="IGIODOZgodnyHost"
			description="Host, do którego przypisany status zgodności z GIODO"
			children="PotwierdzeniaGIODO"
			relname="Potwierdzenia GIODO hosta"
			required="true"
      readonly="true"
 			relguided="inner"
      relright="true"
      delete="cascade"
      keyprimary="true"/>

    <key name="WgHostData">
      <keycol name="Host" />
      <keycol name="DataZmiany" />
    </key>

    <col name="Operator" type="Operator" required="true" category="Ogólne" modifier="public virtual" caption="Operator" description="Operator zmieniający status."/>
    <col name="Stan" type="GIODOStatus" category="Ogólne" caption="Status" description="Status potwierdzenia GIODO."/>
    <col name="DataZmiany" type="datetime" category="Ogólne" caption="Data" description="Data zmiany statusu."/>
  </table>

  <!-- GIODOWymianaDanych -->

  <interface name="IGIODOWymianaDanychHost"/>
  <enum name="GIODOKierunekWymianyDanych"/>
  <table name="GIODOWymianaDanych" tablename="GIODOWymDanych" guided="Root">
    <col name="Host" type="IGIODOWymianaDanychHost"
			description="Zapis, do którego przypisano informacja o wymianie danych"
			children="GIODOUdostępnienia"
			relname="Udostępnienia GIODO zapisu"
			required="true"
      readonly="true"
      relright="true"
      keyprimary="true"
    >
      <keycol name="Data" />
      <keycol name="Kierunek" />
    </col>

    <col name="Podmiot" type="Kontrahent" cstype="IKontrahent" category="Ogólne" caption="Kontrahent" description="Podmiot, któremu udostępniono dane."/>
    <col name="PozyskaneOdOsoby" type="boolean" category="Ogólne" caption="Pozyskane od osoby" description="Dane pozyskane od osoby, której dotyczą."/>
    <col name="Kierunek" type="GIODOKierunekWymianyDanych" selector="true" readonly="true" required="true" category="Ogólne" caption="Kierunek" description="Udostępnienie czy pozyskanie."/>
    <col name="Data" type="date" category="Ogólne" required="true" caption="Data" description="Data udostępnienia."/>
    <col name="Zakres" type="text" category="Ogólne" caption="Zakres" description="Zakres udostępnionych danych."/>
  </table>

  <!-- GIODOOświadczenie -->

  <table name="GIODODefinicjaOświadczenia" tablename="GIODODefOswiadcz" guided="Root" config="true"
       caption="Defnicja oświadczenia" tablecaption="Definicje oświadczeń (GIODO)"
  >
    <key name="WgOswiadczenie" keyunique="true" keyprimary="true">
      <keycol name="Oswiadczenie"/>
    </key>
    <col name="Oswiadczenie" type="string" length="150" required="true"
         category="Ogólne" caption="Oświadczenie" description="Nazwa oświadczenia"/>
    <col name="Tresc" type="text" required="false"
         category="Ogólne" caption="Oświadczenie" description="Treść oświadczenia"/>
    <col name="Blokada" type="boolean"
         category="Ogólne" caption="Blokada" description="Definicja zablokowana"/>
    <col name="Pracownik" type="boolean" category="Dostępny dla">
      <verifier name="GIODODefinicjaOświadczenia.DostępnyDlaVerifier" onadded="true"/>
    </col>
    <col name="OsobaKontakowa" type="boolean" category="Dostępny dla">
      <verifier name="GIODODefinicjaOświadczenia.DostępnyDlaVerifier"/>
    </col>
    <col name="OsobaFizyczna" type="boolean" category="Dostępny dla">
      <verifier name="GIODODefinicjaOświadczenia.DostępnyDlaVerifier"/>
    </col>
    <col name="Uczestnik" type="boolean" category="Dostępny dla">
      <verifier name="GIODODefinicjaOświadczenia.DostępnyDlaVerifier"/>
    </col>
    <!-- 12.1 -->
    <col name="Numeracja" type="DefinicjaNumeracji" category="Definicja" />
    <col name="Symbol" type="string" length="12" required="true" category="Ogólne" />
  </table>

  <interface name="IGIODOOświadczenieHost"/>
  <table name="GIODOOświadczenie" tablename="GIODOOswiadcz" guided="Root" caption="Oświadczenie (GIODO)" tablecaption="Oświadczenia (GIODO)">
    <key name="WgData">
      <keycol name="Data" />
      <keycol name="Definicja" />
    </key>

    <col name="Host" type="IGIODOOświadczenieHost"
			description="Zapis, do którego przypisano informacja o oświadczeniu GIODO"
			children="GIODOOświadczenia"
			relname="Oświadczenie GIODO zapisu"
			required="true"
      readonly="true"
      relright="true"
      keyprimary="true"
    >
      <keycol name="Data" />
      <keycol name="Definicja" />
    </col>    

    <col name="Definicja" type="GIODODefinicjaOświadczenia" readonly="true" required="true" category="Ogólne" caption="Definicja" description="Definicja oświadczenia."/>
    <col name="Data" type="date" category="Ogólne" required="true" caption="Data" description="Data oświadczenia."/>
    <col name="Oswiadczenie" type="boolean" required="true" category="Ogólne" caption="Oświadczenie" description="Oświadczenie."/>
    <col name="Tresc" type="text" required="false" readonly="true"
         category="Ogólne" caption="Oświadczenie" description="Treść oświadczenia"/>
    <!-- 12.1 -->
    <col name="Bufor" type="boolean" category="Dokument" />
    <col name="Numer" type="NumerDokumentu" category="Dokument" />
  </table>

  <!-- [17035][9.3][Workflow 9.3]: Wrzucić do 9.3 zmiany związane z schedule - cofnięte do wersji 9.2 -->

  <enum name="ScheduleTypeEnum"/>

  <table name="ScheduleDefinition" tablename="ScheduleDefs" caption="Definicja harmonogramu" tablecaption="Definicje harmonogramów" guided="Root" >

    <key name="ByName" keyprimary="true" keyunique="true">
      <keycol name="Name"/>
    </key>

    <col name="Name" type="string" length="80" category="Ogólne" required="true" description="Nazwa definicji harmonogramu" caption="Nazwa" />

    <col name="TaskDefinition"
         type="TaskDefinition"
         required="true"
         category="Ogólne"
         caption="Definicja zadania"
         description="Definicja zadania powiązana z definicją harmonogramu"
         relname="ScheduleDefinition_TaskDefinition"
         children="ScheduleDefs"
         delete="cascade">
      <verifier name ="ScheduleDefinition.SchedulerReferenceVerifier" onadded="true" />
    </col>

    <col name="Locked" type="boolean" category="Ogólne" caption="Definicja zablokowana" description="Określa czy definicja jest zablokowana"/>
    <col name="ScheduleType" type="ScheduleTypeEnum" category="Ogólne" caption="Typ harmonogramu" description="Określa typ harmonogramu">
      <verifier name="ScheduleDefinition.FolderVerifiers" onadded="true"/>
    </col>
    <col name="FolderIn" type="string" length="255" category="Ogólne" caption="Ścieżka wejściowa" description="Określa ścieżkę, dla której śledzone są pliki">
      <verifier name="ScheduleDefinition.FolderVerifiers" onadded="true"/>
    </col>
    <col name="FolderOut" type="string" length="255" category="Ogólne" caption="Ścieżka wyjściowa" description="Określa ścieżkę, archiwalną dla przetworzonych plików">
      <verifier name="ScheduleDefinition.FolderVerifiers" onadded="true"/>
    </col>
    <col name="StartDate" type="date" category="Cykl" caption="Czas rozpoczęcia" description="Określa czas rozpoczęcia obowiązywania cyklu">
      <verifier name="ScheduleDefinition.TimesVerifiers" onadded="true"/>
    </col>
    <col name="EndDate" type="date" category="Cykl" caption="Czas zakończenia" description="Określa czas zakończenia obowiązywania cyklu">
      <verifier name="ScheduleDefinition.TimesVerifiers" onadded="true"/>
    </col>
    <col name="Date" type="date" category="Cykl" caption="Data cyklu" description="Określa datę wystąpienia cyklu"/>
    <col name="Code" type="text" category="Algorytm" caption="Kod algorytmu" description="Kod algorytmu kalkulatora definicji cyklu"/>
    <col name="CycleDefinition" type="DefinicjaCyklu" category="Cykl" caption="Definicja cyklu" description="Określa definicję cyklu"/>

    <col name="Host" type="IScheduleAutoJob" category="Ogólne" caption="Rekord" description="Określa opcjonalny rekord powiązany" readonly="true" />
    <col name="AutoActionName" type="string" length="255" category="Ogólne" caption="Nazwa metody automatycznej" description="Określa nazwę metody automatycznej wywoływanej podczas przetwarzania automatycznych akcji harmonogramu" />

  </table>

  <interface name="IScheduleAutoJob"/>

  <table name="ScheduleItem" tablename="ScheduleItems" caption="Element harmonogramu" tablecaption="Elementy harmonogramów" namespace="Soneta.Core.Schedule">

    <key name="ByScheduleDefinitionAndTask" keyprimary="true" keyunique="true">
      <keycol name="ScheduleDefinition"/>
      <keycol name="Task"/>
    </key>

    <key name="ByIdGuid" keyunique="true">
      <keycol name="IdGuid"/>
    </key>

    <col name="ScheduleDefinition"
         type="ScheduleDefinition"
         required="true"
         readonly="true"
         category="Ogólne"
         caption="Definicja harmonogramu"
         description="Definicja harmonogramu powiązana z elementem harmonogramu"
         relname="ScheduleItem_ScheduleDefinition"
         children="ScheduleItems"
         delete="cascade"
		/>

    <col name="Task" type="Task" readonly="true" category="Ogólne" caption="Zadanie" description="Zadanie powiązana z elementem harmonogramu" />

    <!--Chodzi o to aby tabela nie była guided a jednocześnie identyfikować wiersze (ID nie daje takiej możliwości bo przypisywane jest dopiero po ponowym załadowaniu wiersza-->
    <col name="IdGuid" type="guid" required="true" readonly="set" category="Ogólne" caption="Identyfikator wiersza" description="Określa identyfikator wiersza" />
    <col name="InvokeTime" type="datetime" category="Ogólne" caption="Czas wykonania zadania" description="Określa czas wykonania zadania"/>

    <col name="Host" type="IScheduleAutoJob" category="Ogólne" caption="Rekord" description="Określa opcjonalny rekord powiązany" readonly="true" />

  </table>

  <table name="JobInvokeLog" tablename="JobInvokeLogs" caption="Log pracy" tablecaption="Logi prac" >

    <key name="ByScheduleItemIdGuid" keyprimary="true" keyunique="true">
      <keycol name="ScheduleItemIdGuid"/>
    </key>

    <key name="ByTaskGuid">
      <keycol name="TaskGuid"/>
    </key>

    <key name="ByHostGuid">
      <keycol name="HostGuid"/>
    </key>

    <col name="ScheduleItemIdGuid" type="guid" required="true" readonly="true" category="Ogólne" caption="Identyfikator elementu harmonogramu" description="Określa identyfikator elementu harmonogramu"/>
    <col name="TaskGuid" type="guid" category="Ogólne" caption="Guid wiersza zadania" description="Określa guid wiersza zadania"/>
    <col name="TaskParentGuid" type="guid" category="Ogólne" caption="Guid wiersza powiązanego" description="Określa guid wiersza powiązanego"/>
    <col name="TaskParentTable" type="string" length="16" category="Ogólne" caption="Nazwa tabeli wiersza powiązanego" description="Określa nazwę tabeli wiersza powiązanego"/>
    <col name="StartDateTime" type="datetime" category="Ogólne" caption="Czas rozpoczęcia" description="Określa czas rozpoczęcia"/>
    <col name="EndDateTime" type="datetime" category="Ogólne" caption="Czas zakończenia" description="Określa czas zakończenia"/>
    <col name="Value" type="text" category="Ogólne" caption="Informacja" description="Określa dodatkową informację o danym zadaniu"/>
    <col name="HostGuid" type="guid" category="Ogólne" caption="Guid wiersza powiązanego" description="Określa guid wiersza powiązanego"/>
    <col name="HostTable" type="string" length="255" category="Ogólne" caption="Tabela wiersza powiązanego" description="Określa tabelę wiersza powiązanego"/>
    <col name="ScheduleDefinitionGuid" type="guid" category="Ogólne" caption="Guid definicji harmonogramu" description="Określa guid definicji harmonogramu"/>
    <col name="ScheduleDefinitionName" type="string" length="80" category="Ogólne" caption="Nazwa definicji harmonogramu" description="Określa nazwę definicji harmonogramu"/>


  </table>

  <table name="SkanerKodow" tablename="SkaneryKodow" guided="Root">
    <key name="WgNazwy" keyprimary="true">
      <keycol name="Nazwa"/>
    </key>
    <col name="Nazwa" type="string" length="32" description="Nazwa skanera kodów kreskowych." />
    <col name="Domyslny" type="boolean" />
    <col name="PrefixKod" type="int" />
    <col name="PrefixNazwa" type="string" length="32" />
    <col name="SuffixKod" type="int" />
    <col name="SuffixNazwa" type="string" length="32" />
  </table>



	<table name="JednolityPK"  tablename="JednolitePK" tablecaption="Jednolity PK" caption="Jednolity PK" guided="Root">
		<key name="WgOkres" keyprimary="true">
			<keycol name="Okres.To"/>
		</key>

		<col name="Rodzaj" type="SlownikElem" category="Ogólne" caption="Rodzaj" description="Rodzaj" readonly="set" required="true"/>
		<col name="Plik" type="string" length="255" required="true" readonly="set" category="Ogólne" caption="Ścieżka do pliku JPK" />
		<col name="Metadane" type="string" length="255" readonly="set" category="Ogólne" caption="Ścieżka do pliku metadanych (paczka wysyłki)" />
		<col name="Okres" type="FromTo" required="true" readonly="set" description="Okres za który wygenerowano JPK"  />
		<col name="Data" type="date" required="true" readonly="set" description="Data generowania" />
		<col name="Czas" type="time" required="true" readonly="set" description="Czas generowania" />
		<col name="FormCode" type="string" length="24" category="Formularz" caption="Kod formularza" description="Kod formularza JPK" />
		<col name="FormSysCode" type="string" length="24" category="Formularz" caption="Kod systemowy" description="Kod systemowy formularza JPK" />
		<col name="FormSchemaVer" type="string" length="24" category="Formularz" caption="Wersja wzorca" description="Wersja wzorca formularza JPK" />
		<col name="TrybGenerowania" type="TrybGenerowaniaJPK" category="Formularz" readonly="set"  caption="Tryb generowania" description="Tryb generowania pliku JPK" />
		<col name="StatusJPK" type="StatusPlikuJPK" caption="Status JPK" required="true" readonly="set" description="Status pliku JPK" />
		<col name="BramkaJPK" type="BramkaJPKFile" caption="Bramka JPK" required="true" readonly="set" description="Bramka pliku JPK" />
		<col name="InitUpload" type="text" readonly="set" description="Informacja o otwarciu sesji" />
		<col name="Opis" type="text" description="Dodatkowy opis" />
		<col name="UPO" type="text" readonly="set" description="Urzędowe potwierdzenie odbioru" />
		<col name="ProcessingError" type="text" readonly="set" description="Błąd przetwarzania danych" />
		<col name="Oddzial" type="OddzialFirmy" caption="Oddział firmy" readonly="set" description="Oddział firmy" relright="true" >
			<verifier name="JednolityPK.OddzialRequiredVerifier" onadded="true" />
		</col>		
	</table>
  
  <table name="HTTPLinkInfo" tablename="HTTPLinkInfos" guided="Root">
    <col name="Dokument" type="IGuidedRow" readonly="true" required="true" keyprimary="true" caption="Dokument" description="Udostępniany dokument"/>
    <col name="WorkerName" type="string" length="255" required="true" readonly="true" />
    <col name="Parametry" type="string" length="255" readonly="true" />
    <col name="Data" type="date" required="true" readonly="true" description="Data generowania" />
    <col name="Termin" type="date" required="true" description="Termin ważności" />
    <col name="Operator" type="Operator"/>
    <col name="WebOperator" type="IWebOperator"/>
    <col name="RoleGuid" type="guid"/>
    <col name="Anonimowy" type="boolean" />
    <col name="TylkoRaz" type="boolean" />
    <col name="Anulowany" type="boolean" />
    <col name="Wykonany" type="boolean" readonly="set"/>
  </table>
  
</module>
